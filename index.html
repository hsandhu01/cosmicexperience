<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>COSMOS ‚Äî Sleep & Relaxation Experience</title>
    <meta name="description"
        content="An immersive cosmic sleep experience with binaural beats, pink noise, rain sounds, and interactive aurora visuals. Fall asleep under the stars." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;600;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåô</text></svg>">
</head>

<body>
    <!-- Loading Screen -->
    <div id="loader">
        <div class="loader-content">
            <div class="loader-ring"></div>
            <h1 class="loader-title">COSMOS</h1>
            <p class="loader-subtitle">Preparing your sanctuary...</p>
        </div>
    </div>

    <!-- Main Canvas -->
    <canvas id="cosmos"></canvas>

    <!-- Audio Visualizer Canvas (overlay) -->
    <canvas id="audioViz"></canvas>

    <!-- Aurora Overlay Canvas -->
    <canvas id="aurora"></canvas>

    <!-- Dim Mode Overlay -->
    <div id="dim-overlay" class="dim-overlay"></div>

    <!-- UI Overlay -->
    <div id="ui-overlay">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="logo">
                <span class="logo-icon">‚òΩ</span>
                <span class="logo-text">COSMOS</span>
                <span class="logo-tagline">sleep</span>
            </div>
            <div class="controls">
                <button id="btn-audio" class="ctrl-btn pulse-hint" title="Toggle Soundscape (A)">
                    <span class="ctrl-icon">üåô</span>
                    <span class="ctrl-label">SLEEP</span>
                </button>
                <button id="btn-mixer" class="ctrl-btn" title="Sound Mixer (X)">
                    <span class="ctrl-icon">üéõ</span>
                    <span class="ctrl-label">MIX</span>
                </button>
                <button id="btn-breathe" class="ctrl-btn" title="Breathing Guide (B)">
                    <span class="ctrl-icon">‚óØ</span>
                    <span class="ctrl-label">BREATHE</span>
                </button>
                <button id="btn-timer" class="ctrl-btn" title="Sleep Timer (S)">
                    <span class="ctrl-icon">‚ó∑</span>
                    <span class="ctrl-label">TIMER</span>
                </button>
                <button id="btn-dim" class="ctrl-btn" title="Dim Mode (D)">
                    <span class="ctrl-icon">‚óê</span>
                    <span class="ctrl-label">DIM</span>
                </button>
                <button id="btn-mode" class="ctrl-btn" title="Switch Theme (M)">
                    <span class="ctrl-icon">‚óë</span>
                    <span class="ctrl-label">THEME</span>
                </button>
            </div>
        </header>

        <!-- Center Welcome (fades out) -->
        <div id="welcome" class="welcome">
            <h1 class="welcome-title">
                <span class="letter" style="--delay:0">D</span>
                <span class="letter" style="--delay:1">R</span>
                <span class="letter" style="--delay:2">I</span>
                <span class="letter" style="--delay:3">F</span>
                <span class="letter" style="--delay:4">T</span>
                <span class="letter-space"></span>
                <span class="letter" style="--delay:6">I</span>
                <span class="letter" style="--delay:7">N</span>
                <span class="letter" style="--delay:8">T</span>
                <span class="letter" style="--delay:9">O</span>
                <span class="letter-space"></span>
                <span class="letter" style="--delay:11">S</span>
                <span class="letter" style="--delay:12">L</span>
                <span class="letter" style="--delay:13">E</span>
                <span class="letter" style="--delay:14">E</span>
                <span class="letter" style="--delay:15">P</span>
            </h1>
            <p class="welcome-sub">Tap the üåô moon above to begin your sleep soundscape</p>
            <div class="welcome-hint">
                <span class="hint-icon">‚òΩ</span>
                <span>Binaural beats ¬∑ Pink noise ¬∑ Rain ¬∑ Dream pads</span>
            </div>
            <div class="welcome-hint" style="margin-top: 0.5rem; animation-delay: 3s;">
                <span class="hint-icon">‚ó∑</span>
                <span>Set a sleep timer to auto-fade the sound</span>
            </div>
        </div>

        <!-- Sound Mixer Panel -->
        <div id="mixer-panel" class="mixer-panel hidden">
            <div class="mixer-header">
                <span class="mixer-title">Sound Mixer</span>
                <button id="mixer-close" class="mixer-close">‚úï</button>
            </div>
            <div class="mixer-group">
                <span class="mixer-group-label">CORE SOUNDS</span>
            </div>
            <div id="mixer-sliders" class="mixer-sliders">
                <!-- Sliders populated by JS -->
            </div>
            <div class="mixer-group" style="margin-top: 1rem;">
                <span class="mixer-group-label">NATURE SOUNDS</span>
            </div>
            <div id="mixer-sliders-nature" class="mixer-sliders">
                <!-- Nature sliders populated by JS -->
            </div>
        </div>

        <!-- Sleep Timer Panel -->
        <div id="timer-panel" class="timer-panel hidden">
            <div class="timer-header">
                <span class="timer-title">Sleep Timer</span>
                <button id="timer-close" class="timer-close">‚úï</button>
            </div>
            <div class="timer-options">
                <button class="timer-option" data-minutes="15">15 min</button>
                <button class="timer-option" data-minutes="30">30 min</button>
                <button class="timer-option" data-minutes="45">45 min</button>
                <button class="timer-option" data-minutes="60">1 hour</button>
                <button class="timer-option" data-minutes="90">1.5 hr</button>
                <button class="timer-option" data-minutes="120">2 hours</button>
            </div>
            <div class="timer-display hidden" id="timer-display">
                <span class="timer-remaining" id="timer-remaining">00:00</span>
                <span class="timer-label">remaining</span>
                <button id="timer-cancel" class="timer-cancel">Cancel Timer</button>
            </div>
        </div>

        <!-- Breathing Guide Overlay -->
        <div id="breathing-guide" class="breathing-guide hidden">
            <div class="breath-circle-outer">
                <div class="breath-circle" id="breath-circle">
                    <span class="breath-text" id="breath-text">Breathe In</span>
                    <span class="breath-count" id="breath-count">4</span>
                </div>
            </div>
            <div class="breath-controls">
                <button class="breath-pattern-btn active" data-pattern="478" id="pattern-478">4-7-8</button>
                <button class="breath-pattern-btn" data-pattern="44" id="pattern-44">4-4</button>
                <button class="breath-close-btn" id="breathe-close">Close</button>
            </div>
        </div>

        <!-- Bottom Stats -->
        <footer class="bottom-bar">
            <div class="stat">
                <span class="stat-label">PARTICLES</span>
                <span class="stat-value" id="stat-particles">0</span>
            </div>
            <div class="stat">
                <span class="stat-label">FPS</span>
                <span class="stat-value" id="stat-fps">60</span>
            </div>
            <div class="stat">
                <span class="stat-label">DIMENSION</span>
                <span class="stat-value" id="stat-dimension">NEBULA</span>
            </div>
            <div class="stat">
                <span class="stat-label">SLEEP TIMER</span>
                <span class="stat-value" id="stat-timer">OFF</span>
            </div>
        </footer>
    </div>

    <!-- Color Palette Indicator -->
    <div id="palette-indicator" class="palette-indicator hidden">
        <div class="palette-dots"></div>
        <span class="palette-name"></span>
    </div>

    <script src="cosmos.js"></script>
    <script src="aurora.js"></script>
    <script src="audio.js"></script>
    <script src="app.js"></script>
</body>

</html>